{"expireTime":9007200835323869000,"key":"transformer-remark-markdown-ast-2bbc4eac8cc01dc51651f44cd6bc31a2-gatsby-remark-custom-blocks-/SonarQubeChineseDoc8.1","val":{"type":"root","children":[{"type":"html","value":"<!-- update_center:javascript -->","position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":2,"column":34,"offset":34},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Prerequisites","position":{"start":{"line":5,"column":4,"offset":40},"end":{"line":5,"column":17,"offset":53},"indent":[]}}],"position":{"start":{"line":5,"column":1,"offset":37},"end":{"line":5,"column":17,"offset":53},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"In order to analyze JavaScript code, you need to have Node.js >= 8 installed on the machine running the scan. Set property ","position":{"start":{"line":7,"column":1,"offset":55},"end":{"line":7,"column":124,"offset":178},"indent":[]}},{"type":"inlineCode","value":"sonar.nodejs.executable","position":{"start":{"line":7,"column":124,"offset":178},"end":{"line":7,"column":149,"offset":203},"indent":[]}},{"type":"text","value":" to an absolute path to Node.js executable, if standard ","position":{"start":{"line":7,"column":149,"offset":203},"end":{"line":7,"column":205,"offset":259},"indent":[]}},{"type":"inlineCode","value":"node","position":{"start":{"line":7,"column":205,"offset":259},"end":{"line":7,"column":211,"offset":265},"indent":[]}},{"type":"text","value":" is not available.","position":{"start":{"line":7,"column":211,"offset":265},"end":{"line":7,"column":229,"offset":283},"indent":[]}}],"position":{"start":{"line":7,"column":1,"offset":55},"end":{"line":7,"column":229,"offset":283},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Language-Specific Properties","position":{"start":{"line":9,"column":4,"offset":289},"end":{"line":9,"column":32,"offset":317},"indent":[]}}],"position":{"start":{"line":9,"column":1,"offset":286},"end":{"line":9,"column":32,"offset":317},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Discover and update the JavaScript-specific properties in: ","position":{"start":{"line":11,"column":1,"offset":319},"end":{"line":11,"column":60,"offset":378},"indent":[]}},{"type":"strong","children":[{"type":"link","title":null,"url":"/SonarQubeChineseDoc8.1/#sonarqube-admin#/admin/settings?category=javascript","children":[{"type":"text","value":"Administration > General Settings > JavaScript","position":{"start":{"line":11,"column":63,"offset":381},"end":{"line":11,"column":109,"offset":427},"indent":[]}}],"position":{"start":{"line":11,"column":62,"offset":380},"end":{"line":11,"column":165,"offset":483},"indent":[]}}],"position":{"start":{"line":11,"column":60,"offset":378},"end":{"line":11,"column":167,"offset":485},"indent":[]}}],"position":{"start":{"line":11,"column":1,"offset":319},"end":{"line":11,"column":167,"offset":485},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Supported Frameworks and Versions","position":{"start":{"line":13,"column":4,"offset":490},"end":{"line":13,"column":37,"offset":523},"indent":[]}}],"position":{"start":{"line":13,"column":1,"offset":487},"end":{"line":13,"column":37,"offset":523},"indent":[]}},{"type":"list","ordered":false,"start":null,"loose":false,"children":[{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"ECMAScript 5 / ECMAScript 2015 (ECMAScript 6) / ECMAScript 2016 / ECMAScript 2017","position":{"start":{"line":14,"column":3,"offset":526},"end":{"line":14,"column":84,"offset":607},"indent":[]}}],"position":{"start":{"line":14,"column":3,"offset":526},"end":{"line":14,"column":84,"offset":607},"indent":[]}}],"position":{"start":{"line":14,"column":1,"offset":524},"end":{"line":14,"column":84,"offset":607},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"React JSX","position":{"start":{"line":15,"column":3,"offset":610},"end":{"line":15,"column":12,"offset":619},"indent":[]}}],"position":{"start":{"line":15,"column":3,"offset":610},"end":{"line":15,"column":12,"offset":619},"indent":[]}}],"position":{"start":{"line":15,"column":1,"offset":608},"end":{"line":15,"column":12,"offset":619},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Vue.js","position":{"start":{"line":16,"column":3,"offset":622},"end":{"line":16,"column":9,"offset":628},"indent":[]}}],"position":{"start":{"line":16,"column":3,"offset":622},"end":{"line":16,"column":9,"offset":628},"indent":[]}}],"position":{"start":{"line":16,"column":1,"offset":620},"end":{"line":16,"column":9,"offset":628},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Flow","position":{"start":{"line":17,"column":3,"offset":631},"end":{"line":17,"column":7,"offset":635},"indent":[]}}],"position":{"start":{"line":17,"column":3,"offset":631},"end":{"line":17,"column":7,"offset":635},"indent":[]}}],"position":{"start":{"line":17,"column":1,"offset":629},"end":{"line":17,"column":7,"offset":635},"indent":[]}}],"position":{"start":{"line":14,"column":1,"offset":524},"end":{"line":17,"column":7,"offset":635},"indent":[1,1,1]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Rule Profiles","position":{"start":{"line":19,"column":4,"offset":640},"end":{"line":19,"column":17,"offset":653},"indent":[]}}],"position":{"start":{"line":19,"column":1,"offset":637},"end":{"line":19,"column":17,"offset":653},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"There are 2 built-in rule profiles for JavaScript: ","position":{"start":{"line":21,"column":1,"offset":655},"end":{"line":21,"column":52,"offset":706},"indent":[]}},{"type":"inlineCode","value":"Sonar way","position":{"start":{"line":21,"column":52,"offset":706},"end":{"line":21,"column":63,"offset":717},"indent":[]}},{"type":"text","value":" (default) and ","position":{"start":{"line":21,"column":63,"offset":717},"end":{"line":21,"column":78,"offset":732},"indent":[]}},{"type":"inlineCode","value":"Sonar way Recommended","position":{"start":{"line":21,"column":78,"offset":732},"end":{"line":21,"column":101,"offset":755},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":21,"column":101,"offset":755},"end":{"line":21,"column":102,"offset":756},"indent":[]}}],"position":{"start":{"line":21,"column":1,"offset":655},"end":{"line":21,"column":102,"offset":756},"indent":[]}},{"type":"list","ordered":false,"start":null,"loose":false,"children":[{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"Sonar way","position":{"start":{"line":22,"column":3,"offset":759},"end":{"line":22,"column":14,"offset":770},"indent":[]}},{"type":"text","value":" profile is activated by default. It defines a trimmed list of high-value/low-noise rules useful in almost any JS development context.","position":{"start":{"line":22,"column":14,"offset":770},"end":{"line":22,"column":148,"offset":904},"indent":[]}}],"position":{"start":{"line":22,"column":3,"offset":759},"end":{"line":22,"column":148,"offset":904},"indent":[]}}],"position":{"start":{"line":22,"column":1,"offset":757},"end":{"line":22,"column":148,"offset":904},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"Sonar way Recommended","position":{"start":{"line":23,"column":3,"offset":907},"end":{"line":23,"column":26,"offset":930},"indent":[]}},{"type":"text","value":" contains all rules from ","position":{"start":{"line":23,"column":26,"offset":930},"end":{"line":23,"column":51,"offset":955},"indent":[]}},{"type":"inlineCode","value":"Sonar way","position":{"start":{"line":23,"column":51,"offset":955},"end":{"line":23,"column":62,"offset":966},"indent":[]}},{"type":"text","value":", plus more rules that mandate high code readability and long-term project evolution.","position":{"start":{"line":23,"column":62,"offset":966},"end":{"line":23,"column":147,"offset":1051},"indent":[]}}],"position":{"start":{"line":23,"column":3,"offset":907},"end":{"line":23,"column":147,"offset":1051},"indent":[]}}],"position":{"start":{"line":23,"column":1,"offset":905},"end":{"line":23,"column":147,"offset":1051},"indent":[]}}],"position":{"start":{"line":22,"column":1,"offset":757},"end":{"line":23,"column":147,"offset":1051},"indent":[1]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Custom rules","position":{"start":{"line":25,"column":4,"offset":1056},"end":{"line":25,"column":16,"offset":1068},"indent":[]}}],"position":{"start":{"line":25,"column":1,"offset":1053},"end":{"line":25,"column":16,"offset":1068},"indent":[]}},{"type":"warningCustomBlock","children":[{"type":"warningCustomBlockBody","data":{"hName":"div","hProperties":{"className":"custom-block-body"}},"children":[{"type":"paragraph","children":[{"type":"text","value":"This feature is deprecated","position":{"start":{"line":26,"column":1,"offset":1069},"end":{"line":26,"column":27,"offset":1095},"indent":[]}}],"position":{"start":{"line":26,"column":1,"offset":1069},"end":{"line":26,"column":27,"offset":1095},"indent":[]}}]}],"data":{"hName":"div","hProperties":{"className":["custom-block","alert","alert-warning"]}},"position":{"start":{"line":26,"column":1,"offset":1069},"end":{"line":27,"column":29,"offset":1109},"indent":[1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Overview","position":{"start":{"line":28,"column":5,"offset":1114},"end":{"line":28,"column":13,"offset":1122},"indent":[]}}],"position":{"start":{"line":28,"column":1,"offset":1110},"end":{"line":28,"column":13,"offset":1122},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The JavaScript Analyzer parses the source code, creates an Abstract Syntax Tree (AST) and then walks through the entire tree. A coding rule is a visitor that is able to visit nodes from this AST.","position":{"start":{"line":30,"column":1,"offset":1124},"end":{"line":30,"column":196,"offset":1319},"indent":[]}}],"position":{"start":{"line":30,"column":1,"offset":1124},"end":{"line":30,"column":196,"offset":1319},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"As soon as the coding rule visits a node, it can navigate the tree around the node and log issues if necessary.","position":{"start":{"line":32,"column":1,"offset":1321},"end":{"line":32,"column":112,"offset":1432},"indent":[]}}],"position":{"start":{"line":32,"column":1,"offset":1321},"end":{"line":32,"column":112,"offset":1432},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Create SonarQube Plugin","position":{"start":{"line":34,"column":5,"offset":1438},"end":{"line":34,"column":28,"offset":1461},"indent":[]}}],"position":{"start":{"line":34,"column":1,"offset":1434},"end":{"line":34,"column":28,"offset":1461},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Custom rules for JavaScript can be added by writing a SonarQube Plugin and using JavaScript analyzer APIs.","position":{"start":{"line":35,"column":1,"offset":1462},"end":{"line":35,"column":107,"offset":1568},"indent":[]}}],"position":{"start":{"line":35,"column":1,"offset":1462},"end":{"line":35,"column":107,"offset":1568},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"To get started a sample plugin can be found here: ","position":{"start":{"line":37,"column":1,"offset":1570},"end":{"line":37,"column":51,"offset":1620},"indent":[]}},{"type":"link","title":null,"url":"https://github.com/SonarSource/sonar-custom-rules-examples/tree/master/javascript-custom-rules","children":[{"type":"text","value":"javascript-custom-rules","position":{"start":{"line":37,"column":52,"offset":1621},"end":{"line":37,"column":75,"offset":1644},"indent":[]}}],"position":{"start":{"line":37,"column":51,"offset":1620},"end":{"line":37,"column":172,"offset":1741},"indent":[]}},{"type":"text","value":".\nHere are the step to follow:","position":{"start":{"line":37,"column":172,"offset":1741},"end":{"line":38,"column":29,"offset":1771},"indent":[1]}}],"position":{"start":{"line":37,"column":1,"offset":1570},"end":{"line":38,"column":29,"offset":1771},"indent":[1]}},{"type":"list","ordered":false,"start":null,"loose":false,"children":[{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Create a standard SonarQube plugin project","position":{"start":{"line":40,"column":3,"offset":1775},"end":{"line":40,"column":45,"offset":1817},"indent":[]}}],"position":{"start":{"line":40,"column":3,"offset":1775},"end":{"line":40,"column":45,"offset":1817},"indent":[]}}],"position":{"start":{"line":40,"column":1,"offset":1773},"end":{"line":40,"column":45,"offset":1817},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Attach this plugin to the SonarQube JavaScript analyzer through the ","position":{"start":{"line":41,"column":3,"offset":1820},"end":{"line":41,"column":71,"offset":1888},"indent":[]}},{"type":"inlineCode","value":"pom.xml","position":{"start":{"line":41,"column":71,"offset":1888},"end":{"line":41,"column":80,"offset":1897},"indent":[]}},{"type":"text","value":":","position":{"start":{"line":41,"column":80,"offset":1897},"end":{"line":41,"column":81,"offset":1898},"indent":[]}}],"position":{"start":{"line":41,"column":3,"offset":1820},"end":{"line":41,"column":81,"offset":1898},"indent":[]}},{"type":"list","ordered":false,"start":null,"loose":false,"children":[{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Add the dependency to the JavaScript analyzer.","position":{"start":{"line":42,"column":5,"offset":1903},"end":{"line":42,"column":51,"offset":1949},"indent":[]}}],"position":{"start":{"line":42,"column":5,"offset":1903},"end":{"line":42,"column":51,"offset":1949},"indent":[]}}],"position":{"start":{"line":42,"column":3,"offset":1901},"end":{"line":42,"column":51,"offset":1949},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Add the following line in the sonar-packaging-maven-plugin configuration.","position":{"start":{"line":43,"column":5,"offset":1954},"end":{"line":43,"column":78,"offset":2027},"indent":[]}}],"position":{"start":{"line":43,"column":5,"offset":1954},"end":{"line":43,"column":78,"offset":2027},"indent":[]}},{"type":"code","lang":null,"value":"<basePlugin>javascript</basePlugin>","position":{"start":{"line":44,"column":3,"offset":2030},"end":{"line":46,"column":6,"offset":2077},"indent":[3,3]}}],"position":{"start":{"line":43,"column":3,"offset":1952},"end":{"line":46,"column":6,"offset":2077},"indent":[3,3,3]}}],"position":{"start":{"line":42,"column":3,"offset":1901},"end":{"line":46,"column":6,"offset":2077},"indent":[3,3,3,3]}}],"position":{"start":{"line":41,"column":1,"offset":1818},"end":{"line":46,"column":6,"offset":2077},"indent":[1,1,1,1,1]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Implement the following extension points:","position":{"start":{"line":47,"column":3,"offset":2080},"end":{"line":47,"column":44,"offset":2121},"indent":[]}}],"position":{"start":{"line":47,"column":3,"offset":2080},"end":{"line":47,"column":44,"offset":2121},"indent":[]}},{"type":"list","ordered":false,"start":null,"loose":false,"children":[{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"http://javadocs.sonarsource.org/latest/apidocs/index.html?org/sonar/api/Plugin.html","children":[{"type":"text","value":"Plugin","position":{"start":{"line":48,"column":6,"offset":2127},"end":{"line":48,"column":12,"offset":2133},"indent":[]}}],"position":{"start":{"line":48,"column":5,"offset":2126},"end":{"line":48,"column":98,"offset":2219},"indent":[]}}],"position":{"start":{"line":48,"column":5,"offset":2126},"end":{"line":48,"column":98,"offset":2219},"indent":[]}}],"position":{"start":{"line":48,"column":3,"offset":2124},"end":{"line":48,"column":98,"offset":2219},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"http://javadocs.sonarsource.org/latest/apidocs/index.html?org/sonar/api/server/rule/RulesDefinition.html","children":[{"type":"text","value":"RulesDefinition","position":{"start":{"line":49,"column":6,"offset":2225},"end":{"line":49,"column":21,"offset":2240},"indent":[]}}],"position":{"start":{"line":49,"column":5,"offset":2224},"end":{"line":49,"column":128,"offset":2347},"indent":[]}},{"type":"text","value":" ","position":{"start":{"line":49,"column":128,"offset":2347},"end":{"line":49,"column":129,"offset":2348},"indent":[]}}],"position":{"start":{"line":49,"column":5,"offset":2224},"end":{"line":49,"column":129,"offset":2348},"indent":[]}}],"position":{"start":{"line":49,"column":3,"offset":2222},"end":{"line":49,"column":129,"offset":2348},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"CustomRuleRepository","position":{"start":{"line":50,"column":5,"offset":2353},"end":{"line":50,"column":27,"offset":2375},"indent":[]}},{"type":"text","value":", this interface registers rule classes with JavaScript plugin, so they are invoked during analysis of JavaScript files.","position":{"start":{"line":50,"column":27,"offset":2375},"end":{"line":50,"column":147,"offset":2495},"indent":[]}}],"position":{"start":{"line":50,"column":5,"offset":2353},"end":{"line":50,"column":147,"offset":2495},"indent":[]}}],"position":{"start":{"line":50,"column":3,"offset":2351},"end":{"line":50,"column":147,"offset":2495},"indent":[]}}],"position":{"start":{"line":48,"column":3,"offset":2124},"end":{"line":50,"column":147,"offset":2495},"indent":[3,3]}}],"position":{"start":{"line":47,"column":1,"offset":2078},"end":{"line":50,"column":147,"offset":2495},"indent":[1,1,1]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Declare ","position":{"start":{"line":51,"column":3,"offset":2498},"end":{"line":51,"column":11,"offset":2506},"indent":[]}},{"type":"inlineCode","value":"RulesDefinition","position":{"start":{"line":51,"column":11,"offset":2506},"end":{"line":51,"column":28,"offset":2523},"indent":[]}},{"type":"text","value":" as an extension in the ","position":{"start":{"line":51,"column":28,"offset":2523},"end":{"line":51,"column":52,"offset":2547},"indent":[]}},{"type":"inlineCode","value":"Plugin","position":{"start":{"line":51,"column":52,"offset":2547},"end":{"line":51,"column":60,"offset":2555},"indent":[]}},{"type":"text","value":" extension point.","position":{"start":{"line":51,"column":60,"offset":2555},"end":{"line":51,"column":77,"offset":2572},"indent":[]}}],"position":{"start":{"line":51,"column":3,"offset":2498},"end":{"line":51,"column":77,"offset":2572},"indent":[]}}],"position":{"start":{"line":51,"column":1,"offset":2496},"end":{"line":51,"column":77,"offset":2572},"indent":[]}}],"position":{"start":{"line":40,"column":1,"offset":1773},"end":{"line":51,"column":77,"offset":2572},"indent":[1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"You can implement both ","position":{"start":{"line":53,"column":1,"offset":2574},"end":{"line":53,"column":24,"offset":2597},"indent":[]}},{"type":"inlineCode","value":"RulesDefinition","position":{"start":{"line":53,"column":24,"offset":2597},"end":{"line":53,"column":41,"offset":2614},"indent":[]}},{"type":"text","value":" and ","position":{"start":{"line":53,"column":41,"offset":2614},"end":{"line":53,"column":46,"offset":2619},"indent":[]}},{"type":"inlineCode","value":"CustomRulesRepository","position":{"start":{"line":53,"column":46,"offset":2619},"end":{"line":53,"column":69,"offset":2642},"indent":[]}},{"type":"text","value":" in a single class.","position":{"start":{"line":53,"column":69,"offset":2642},"end":{"line":53,"column":88,"offset":2661},"indent":[]}}],"position":{"start":{"line":53,"column":1,"offset":2574},"end":{"line":53,"column":88,"offset":2661},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Implement a Rule","position":{"start":{"line":55,"column":5,"offset":2667},"end":{"line":55,"column":21,"offset":2683},"indent":[]}}],"position":{"start":{"line":55,"column":1,"offset":2663},"end":{"line":55,"column":21,"offset":2683},"indent":[]}},{"type":"list","ordered":false,"start":null,"loose":false,"children":[{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Create a class that will hold the implementation of the rule. It should:","position":{"start":{"line":57,"column":3,"offset":2687},"end":{"line":57,"column":75,"offset":2759},"indent":[]}}],"position":{"start":{"line":57,"column":3,"offset":2687},"end":{"line":57,"column":75,"offset":2759},"indent":[]}},{"type":"list","ordered":false,"start":null,"loose":false,"children":[{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Extend ","position":{"start":{"line":58,"column":5,"offset":2764},"end":{"line":58,"column":12,"offset":2771},"indent":[]}},{"type":"inlineCode","value":"DoubleDispatchVisitorCheck","position":{"start":{"line":58,"column":12,"offset":2771},"end":{"line":58,"column":40,"offset":2799},"indent":[]}},{"type":"text","value":" or ","position":{"start":{"line":58,"column":40,"offset":2799},"end":{"line":58,"column":44,"offset":2803},"indent":[]}},{"type":"inlineCode","value":"SubscriptionVisitorCheck","position":{"start":{"line":58,"column":44,"offset":2803},"end":{"line":58,"column":70,"offset":2829},"indent":[]}}],"position":{"start":{"line":58,"column":5,"offset":2764},"end":{"line":58,"column":70,"offset":2829},"indent":[]}}],"position":{"start":{"line":58,"column":3,"offset":2762},"end":{"line":58,"column":70,"offset":2829},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Define the rule name, key, tags, etc. with Java annotations.","position":{"start":{"line":59,"column":5,"offset":2834},"end":{"line":59,"column":65,"offset":2894},"indent":[]}}],"position":{"start":{"line":59,"column":5,"offset":2834},"end":{"line":59,"column":65,"offset":2894},"indent":[]}}],"position":{"start":{"line":59,"column":3,"offset":2832},"end":{"line":59,"column":65,"offset":2894},"indent":[]}}],"position":{"start":{"line":58,"column":3,"offset":2762},"end":{"line":59,"column":65,"offset":2894},"indent":[3]}}],"position":{"start":{"line":57,"column":1,"offset":2685},"end":{"line":59,"column":65,"offset":2894},"indent":[1,1]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Declare this class in the ","position":{"start":{"line":60,"column":3,"offset":2897},"end":{"line":60,"column":29,"offset":2923},"indent":[]}},{"type":"inlineCode","value":"RulesDefinition","position":{"start":{"line":60,"column":29,"offset":2923},"end":{"line":60,"column":46,"offset":2940},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":60,"column":46,"offset":2940},"end":{"line":60,"column":47,"offset":2941},"indent":[]}}],"position":{"start":{"line":60,"column":3,"offset":2897},"end":{"line":60,"column":47,"offset":2941},"indent":[]}}],"position":{"start":{"line":60,"column":1,"offset":2895},"end":{"line":60,"column":47,"offset":2941},"indent":[]}}],"position":{"start":{"line":57,"column":1,"offset":2685},"end":{"line":60,"column":47,"offset":2941},"indent":[1,1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Implementation Details","position":{"start":{"line":62,"column":6,"offset":2948},"end":{"line":62,"column":28,"offset":2970},"indent":[]}}],"position":{"start":{"line":62,"column":1,"offset":2943},"end":{"line":62,"column":28,"offset":2970},"indent":[]}},{"type":"heading","depth":4,"children":[{"type":"text","value":"Using DoubleDispatchVisitorCheck","position":{"start":{"line":64,"column":6,"offset":2977},"end":{"line":64,"column":38,"offset":3009},"indent":[]}}],"position":{"start":{"line":64,"column":1,"offset":2972},"end":{"line":64,"column":38,"offset":3009},"indent":[]}},{"type":"paragraph","children":[{"type":"inlineCode","value":"DoubleDispatchVisitorCheck","position":{"start":{"line":65,"column":1,"offset":3010},"end":{"line":65,"column":29,"offset":3038},"indent":[]}},{"type":"text","value":" extends ","position":{"start":{"line":65,"column":29,"offset":3038},"end":{"line":65,"column":38,"offset":3047},"indent":[]}},{"type":"inlineCode","value":"DoubleDispatchVisitor","position":{"start":{"line":65,"column":38,"offset":3047},"end":{"line":65,"column":61,"offset":3070},"indent":[]}},{"type":"text","value":" which provide a set of methods to visit specific tree nodes (these methods' names start with ","position":{"start":{"line":65,"column":61,"offset":3070},"end":{"line":65,"column":155,"offset":3164},"indent":[]}},{"type":"inlineCode","value":"visit","position":{"start":{"line":65,"column":155,"offset":3164},"end":{"line":65,"column":162,"offset":3171},"indent":[]}},{"type":"text","value":"). To explore a part of the AST, override the required method(s). For example, if you want to explore ","position":{"start":{"line":65,"column":162,"offset":3171},"end":{"line":65,"column":264,"offset":3273},"indent":[]}},{"type":"inlineCode","value":"if","position":{"start":{"line":65,"column":264,"offset":3273},"end":{"line":65,"column":268,"offset":3277},"indent":[]}},{"type":"text","value":" statement nodes, override the ","position":{"start":{"line":65,"column":268,"offset":3277},"end":{"line":65,"column":299,"offset":3308},"indent":[]}},{"type":"inlineCode","value":"DoubleDispatchVisitor#visitIfStatement","position":{"start":{"line":65,"column":299,"offset":3308},"end":{"line":65,"column":339,"offset":3348},"indent":[]}},{"type":"text","value":" method that will be called each time an ","position":{"start":{"line":65,"column":339,"offset":3348},"end":{"line":65,"column":380,"offset":3389},"indent":[]}},{"type":"inlineCode","value":"IfStatementTree","position":{"start":{"line":65,"column":380,"offset":3389},"end":{"line":65,"column":397,"offset":3406},"indent":[]}},{"type":"text","value":" node is encountered in the AST.","position":{"start":{"line":65,"column":397,"offset":3406},"end":{"line":65,"column":429,"offset":3438},"indent":[]}}],"position":{"start":{"line":65,"column":1,"offset":3010},"end":{"line":65,"column":429,"offset":3438},"indent":[]}},{"type":"warningCustomBlock","children":[{"type":"warningCustomBlockBody","data":{"hName":"div","hProperties":{"className":"custom-block-body"}},"children":[{"type":"paragraph","children":[{"type":"text","value":"When overriding a visit method, you must call the ","position":{"start":{"line":67,"column":1,"offset":3440},"end":{"line":67,"column":51,"offset":3490},"indent":[]}},{"type":"inlineCode","value":"super","position":{"start":{"line":67,"column":51,"offset":3490},"end":{"line":67,"column":58,"offset":3497},"indent":[]}},{"type":"text","value":" method in order to allow the visitor to visit the rest of the tree.","position":{"start":{"line":67,"column":58,"offset":3497},"end":{"line":67,"column":126,"offset":3565},"indent":[]}}],"position":{"start":{"line":67,"column":1,"offset":3440},"end":{"line":67,"column":126,"offset":3565},"indent":[]}}]}],"data":{"hName":"div","hProperties":{"className":["custom-block","alert","alert-warning"]}},"position":{"start":{"line":67,"column":1,"offset":3440},"end":{"line":68,"column":128,"offset":3579},"indent":[1]}},{"type":"heading","depth":4,"children":[{"type":"text","value":"Using SubscriptionVisitorCheck","position":{"start":{"line":70,"column":6,"offset":3586},"end":{"line":70,"column":36,"offset":3616},"indent":[]}}],"position":{"start":{"line":70,"column":1,"offset":3581},"end":{"line":70,"column":36,"offset":3616},"indent":[]}},{"type":"paragraph","children":[{"type":"inlineCode","value":"SubscriptionVisitorCheck","position":{"start":{"line":71,"column":1,"offset":3617},"end":{"line":71,"column":27,"offset":3643},"indent":[]}},{"type":"text","value":" extends ","position":{"start":{"line":71,"column":27,"offset":3643},"end":{"line":71,"column":36,"offset":3652},"indent":[]}},{"type":"inlineCode","value":"SubscriptionVisitor","position":{"start":{"line":71,"column":36,"offset":3652},"end":{"line":71,"column":57,"offset":3673},"indent":[]}},{"type":"text","value":". To explore a part of the AST, override ","position":{"start":{"line":71,"column":57,"offset":3673},"end":{"line":71,"column":98,"offset":3714},"indent":[]}},{"type":"inlineCode","value":"SubscribtionVisitor#nodesToVisit()","position":{"start":{"line":71,"column":98,"offset":3714},"end":{"line":71,"column":134,"offset":3750},"indent":[]}},{"type":"text","value":" by returning the list of the ","position":{"start":{"line":71,"column":134,"offset":3750},"end":{"line":71,"column":164,"offset":3780},"indent":[]}},{"type":"inlineCode","value":"Tree#Kind","position":{"start":{"line":71,"column":164,"offset":3780},"end":{"line":71,"column":175,"offset":3791},"indent":[]}},{"type":"text","value":" of node you want to visit. For example, if you want to explore ","position":{"start":{"line":71,"column":175,"offset":3791},"end":{"line":71,"column":239,"offset":3855},"indent":[]}},{"type":"inlineCode","value":"if","position":{"start":{"line":71,"column":239,"offset":3855},"end":{"line":71,"column":243,"offset":3859},"indent":[]}},{"type":"text","value":" statement nodes the method will return a list containing the element ","position":{"start":{"line":71,"column":243,"offset":3859},"end":{"line":71,"column":313,"offset":3929},"indent":[]}},{"type":"inlineCode","value":"Tree#Kind#IF_STATEMENT","position":{"start":{"line":71,"column":313,"offset":3929},"end":{"line":71,"column":337,"offset":3953},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":71,"column":337,"offset":3953},"end":{"line":71,"column":338,"offset":3954},"indent":[]}}],"position":{"start":{"line":71,"column":1,"offset":3617},"end":{"line":71,"column":338,"offset":3954},"indent":[]}},{"type":"heading","depth":4,"children":[{"type":"text","value":"Create issues","position":{"start":{"line":73,"column":6,"offset":3961},"end":{"line":73,"column":19,"offset":3974},"indent":[]}}],"position":{"start":{"line":73,"column":1,"offset":3956},"end":{"line":73,"column":19,"offset":3974},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Use these methods to log an issue:","position":{"start":{"line":74,"column":1,"offset":3975},"end":{"line":74,"column":35,"offset":4009},"indent":[]}}],"position":{"start":{"line":74,"column":1,"offset":3975},"end":{"line":74,"column":35,"offset":4009},"indent":[]}},{"type":"list","ordered":false,"start":null,"loose":false,"children":[{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"JavaScriptCheck#addIssue(tree, message)","position":{"start":{"line":76,"column":3,"offset":4013},"end":{"line":76,"column":44,"offset":4054},"indent":[]}},{"type":"text","value":" creates and returns an instance of ","position":{"start":{"line":76,"column":44,"offset":4054},"end":{"line":76,"column":80,"offset":4090},"indent":[]}},{"type":"inlineCode","value":"PreciseIssue","position":{"start":{"line":76,"column":80,"offset":4090},"end":{"line":76,"column":94,"offset":4104},"indent":[]}},{"type":"text","value":". In the SonarQube UI this issue will highlight all code corresponding to the tree passed as the first parameter. To add cost (effort to fix) or secondary locations provide these values to your just-created instance of ","position":{"start":{"line":76,"column":94,"offset":4104},"end":{"line":76,"column":313,"offset":4323},"indent":[]}},{"type":"inlineCode","value":"PreciseIssue","position":{"start":{"line":76,"column":313,"offset":4323},"end":{"line":76,"column":327,"offset":4337},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":76,"column":327,"offset":4337},"end":{"line":76,"column":328,"offset":4338},"indent":[]}}],"position":{"start":{"line":76,"column":3,"offset":4013},"end":{"line":76,"column":328,"offset":4338},"indent":[]}}],"position":{"start":{"line":76,"column":1,"offset":4011},"end":{"line":76,"column":328,"offset":4338},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"JavaScriptCheck#addIssue(issue)","position":{"start":{"line":77,"column":3,"offset":4341},"end":{"line":77,"column":36,"offset":4374},"indent":[]}},{"type":"text","value":" creates and returns the instance of ","position":{"start":{"line":77,"column":36,"offset":4374},"end":{"line":77,"column":73,"offset":4411},"indent":[]}},{"type":"inlineCode","value":"Issue","position":{"start":{"line":77,"column":73,"offset":4411},"end":{"line":77,"column":80,"offset":4418},"indent":[]}},{"type":"text","value":". Use this method to create non-standard issues (e.g. for a file-level issue instantiate ","position":{"start":{"line":77,"column":80,"offset":4418},"end":{"line":77,"column":169,"offset":4507},"indent":[]}},{"type":"inlineCode","value":"FileIssue","position":{"start":{"line":77,"column":169,"offset":4507},"end":{"line":77,"column":180,"offset":4518},"indent":[]}},{"type":"text","value":").","position":{"start":{"line":77,"column":180,"offset":4518},"end":{"line":77,"column":182,"offset":4520},"indent":[]}}],"position":{"start":{"line":77,"column":3,"offset":4341},"end":{"line":77,"column":182,"offset":4520},"indent":[]}}],"position":{"start":{"line":77,"column":1,"offset":4339},"end":{"line":77,"column":182,"offset":4520},"indent":[]}}],"position":{"start":{"line":76,"column":1,"offset":4011},"end":{"line":77,"column":182,"offset":4520},"indent":[1]}},{"type":"heading","depth":4,"children":[{"type":"text","value":"Check context","position":{"start":{"line":79,"column":6,"offset":4527},"end":{"line":79,"column":19,"offset":4540},"indent":[]}}],"position":{"start":{"line":79,"column":1,"offset":4522},"end":{"line":79,"column":19,"offset":4540},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Check context is provided by ","position":{"start":{"line":80,"column":1,"offset":4541},"end":{"line":80,"column":30,"offset":4570},"indent":[]}},{"type":"inlineCode","value":"DoubleDispatchVisitorCheck","position":{"start":{"line":80,"column":30,"offset":4570},"end":{"line":80,"column":58,"offset":4598},"indent":[]}},{"type":"text","value":" or ","position":{"start":{"line":80,"column":58,"offset":4598},"end":{"line":80,"column":62,"offset":4602},"indent":[]}},{"type":"inlineCode","value":"SubscriptionVisitorCheck","position":{"start":{"line":80,"column":62,"offset":4602},"end":{"line":80,"column":88,"offset":4628},"indent":[]}},{"type":"text","value":" by calling the ","position":{"start":{"line":80,"column":88,"offset":4628},"end":{"line":80,"column":104,"offset":4644},"indent":[]}},{"type":"inlineCode","value":"JavaScriptCheck#getContext","position":{"start":{"line":80,"column":104,"offset":4644},"end":{"line":80,"column":132,"offset":4672},"indent":[]}},{"type":"text","value":" method. Check context provides you access to the root tree of the file, the file itself and the symbol model (information about variables).","position":{"start":{"line":80,"column":132,"offset":4672},"end":{"line":80,"column":272,"offset":4812},"indent":[]}}],"position":{"start":{"line":80,"column":1,"offset":4541},"end":{"line":80,"column":272,"offset":4812},"indent":[]}},{"type":"heading","depth":4,"children":[{"type":"text","value":"Test rule","position":{"start":{"line":82,"column":6,"offset":4819},"end":{"line":82,"column":15,"offset":4828},"indent":[]}}],"position":{"start":{"line":82,"column":1,"offset":4814},"end":{"line":82,"column":15,"offset":4828},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"To test the rule you can use ","position":{"start":{"line":83,"column":1,"offset":4829},"end":{"line":83,"column":30,"offset":4858},"indent":[]}},{"type":"inlineCode","value":"JavaScriptCheckVerifier#verify()","position":{"start":{"line":83,"column":30,"offset":4858},"end":{"line":83,"column":64,"offset":4892},"indent":[]}},{"type":"text","value":" or ","position":{"start":{"line":83,"column":64,"offset":4892},"end":{"line":83,"column":68,"offset":4896},"indent":[]}},{"type":"inlineCode","value":"JavaScriptCheckVerifier#issues()","position":{"start":{"line":83,"column":68,"offset":4896},"end":{"line":83,"column":102,"offset":4930},"indent":[]}},{"type":"text","value":". To be able to use these methods add a dependency to your project:","position":{"start":{"line":83,"column":102,"offset":4930},"end":{"line":83,"column":169,"offset":4997},"indent":[]}}],"position":{"start":{"line":83,"column":1,"offset":4829},"end":{"line":83,"column":169,"offset":4997},"indent":[]}},{"type":"code","lang":null,"value":"<dependency>\n  <groupId>org.sonarsource.javascript</groupId>\n  <artifactId>javascript-checks-testkit</artifactId>\n  <version>XXX</version>\n  <scope>test</scope>\n</dependency>","position":{"start":{"line":84,"column":1,"offset":4998},"end":{"line":91,"column":4,"offset":5180},"indent":[1,1,1,1,1,1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"API Changes","position":{"start":{"line":93,"column":5,"offset":5186},"end":{"line":93,"column":16,"offset":5197},"indent":[]}}],"position":{"start":{"line":93,"column":1,"offset":5182},"end":{"line":93,"column":16,"offset":5197},"indent":[]}},{"type":"heading","depth":4,"children":[{"type":"text","value":"SonarJS 4.2.1","position":{"start":{"line":94,"column":6,"offset":5203},"end":{"line":94,"column":19,"offset":5216},"indent":[]}}],"position":{"start":{"line":94,"column":1,"offset":5198},"end":{"line":94,"column":19,"offset":5216},"indent":[]}},{"type":"list","ordered":false,"start":null,"loose":false,"children":[{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"CustomJavaScriptRulesDefinition","position":{"start":{"line":95,"column":3,"offset":5219},"end":{"line":95,"column":36,"offset":5252},"indent":[]}},{"type":"text","value":" is deprecated. Implement extension ","position":{"start":{"line":95,"column":36,"offset":5252},"end":{"line":95,"column":72,"offset":5288},"indent":[]}},{"type":"inlineCode","value":"RulesDefinition","position":{"start":{"line":95,"column":72,"offset":5288},"end":{"line":95,"column":89,"offset":5305},"indent":[]}},{"type":"text","value":" and ","position":{"start":{"line":95,"column":89,"offset":5305},"end":{"line":95,"column":94,"offset":5310},"indent":[]}},{"type":"inlineCode","value":"CustomRuleRepository","position":{"start":{"line":95,"column":94,"offset":5310},"end":{"line":95,"column":116,"offset":5332},"indent":[]}},{"type":"text","value":" instead.","position":{"start":{"line":95,"column":116,"offset":5332},"end":{"line":95,"column":125,"offset":5341},"indent":[]}}],"position":{"start":{"line":95,"column":3,"offset":5219},"end":{"line":95,"column":125,"offset":5341},"indent":[]}}],"position":{"start":{"line":95,"column":1,"offset":5217},"end":{"line":95,"column":125,"offset":5341},"indent":[]}}],"position":{"start":{"line":95,"column":1,"offset":5217},"end":{"line":95,"column":125,"offset":5341},"indent":[]}},{"type":"heading","depth":4,"children":[{"type":"text","value":"SonarJS 4.0","position":{"start":{"line":97,"column":6,"offset":5348},"end":{"line":97,"column":17,"offset":5359},"indent":[]}}],"position":{"start":{"line":97,"column":1,"offset":5343},"end":{"line":97,"column":17,"offset":5359},"indent":[]}},{"type":"list","ordered":false,"start":null,"loose":false,"children":[{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Method ","position":{"start":{"line":98,"column":3,"offset":5362},"end":{"line":98,"column":10,"offset":5369},"indent":[]}},{"type":"inlineCode","value":"TreeVisitorContext#getFile()","position":{"start":{"line":98,"column":10,"offset":5369},"end":{"line":98,"column":40,"offset":5399},"indent":[]}},{"type":"text","value":" is removed.","position":{"start":{"line":98,"column":40,"offset":5399},"end":{"line":98,"column":52,"offset":5411},"indent":[]}}],"position":{"start":{"line":98,"column":3,"offset":5362},"end":{"line":98,"column":52,"offset":5411},"indent":[]}}],"position":{"start":{"line":98,"column":1,"offset":5360},"end":{"line":98,"column":52,"offset":5411},"indent":[]}}],"position":{"start":{"line":98,"column":1,"offset":5360},"end":{"line":98,"column":52,"offset":5411},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Related Pages","position":{"start":{"line":101,"column":4,"offset":5417},"end":{"line":101,"column":17,"offset":5430},"indent":[]}}],"position":{"start":{"line":101,"column":1,"offset":5414},"end":{"line":101,"column":17,"offset":5430},"indent":[]}},{"type":"list","ordered":false,"start":null,"loose":false,"children":[{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"/SonarQubeChineseDoc8.1/analysis/coverage/","children":[{"type":"text","value":"Test Coverage & Execution","position":{"start":{"line":103,"column":4,"offset":5435},"end":{"line":103,"column":29,"offset":5460},"indent":[]}}],"position":{"start":{"line":103,"column":3,"offset":5434},"end":{"line":103,"column":51,"offset":5482},"indent":[]}},{"type":"text","value":" (LCOV format)","position":{"start":{"line":103,"column":51,"offset":5482},"end":{"line":103,"column":65,"offset":5496},"indent":[]}}],"position":{"start":{"line":103,"column":3,"offset":5434},"end":{"line":103,"column":65,"offset":5496},"indent":[]}}],"position":{"start":{"line":103,"column":1,"offset":5432},"end":{"line":103,"column":65,"offset":5496},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"/SonarQubeChineseDoc8.1/analysis/external-issues/","children":[{"type":"text","value":"Importing External Issues","position":{"start":{"line":104,"column":4,"offset":5500},"end":{"line":104,"column":29,"offset":5525},"indent":[]}}],"position":{"start":{"line":104,"column":3,"offset":5499},"end":{"line":104,"column":58,"offset":5554},"indent":[]}},{"type":"text","value":" (ESLint)","position":{"start":{"line":104,"column":58,"offset":5554},"end":{"line":104,"column":67,"offset":5563},"indent":[]}}],"position":{"start":{"line":104,"column":3,"offset":5499},"end":{"line":104,"column":67,"offset":5563},"indent":[]}}],"position":{"start":{"line":104,"column":1,"offset":5497},"end":{"line":104,"column":67,"offset":5563},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"https://github.com/SonarSource/eslint-plugin-sonarjs","children":[{"type":"text","value":"SonarJS Plugin for ESLint","position":{"start":{"line":105,"column":4,"offset":5567},"end":{"line":105,"column":29,"offset":5592},"indent":[]}}],"position":{"start":{"line":105,"column":3,"offset":5566},"end":{"line":105,"column":84,"offset":5647},"indent":[]}}],"position":{"start":{"line":105,"column":3,"offset":5566},"end":{"line":105,"column":84,"offset":5647},"indent":[]}}],"position":{"start":{"line":105,"column":1,"offset":5564},"end":{"line":105,"column":84,"offset":5647},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"link","title":null,"url":"/SonarQubeChineseDoc8.1/extend/adding-coding-rules/","children":[{"type":"text","value":"Adding Coding Rules","position":{"start":{"line":106,"column":4,"offset":5651},"end":{"line":106,"column":23,"offset":5670},"indent":[]}}],"position":{"start":{"line":106,"column":3,"offset":5650},"end":{"line":106,"column":54,"offset":5701},"indent":[]}}],"position":{"start":{"line":106,"column":3,"offset":5650},"end":{"line":106,"column":54,"offset":5701},"indent":[]}}],"position":{"start":{"line":106,"column":1,"offset":5648},"end":{"line":106,"column":54,"offset":5701},"indent":[]}}],"position":{"start":{"line":103,"column":1,"offset":5432},"end":{"line":106,"column":54,"offset":5701},"indent":[1,1,1]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":107,"column":1,"offset":5702}}}}