{"expireTime":9007200835323869000,"key":"transformer-remark-markdown-ast-3562de375378c9ff0016ddd4d3856f62-gatsby-remark-custom-blocks-/SonarQubeChineseDoc8.1","val":{"type":"root","children":[{"type":"heading","depth":2,"children":[{"type":"text","value":"Running SonarQube as a Service on Windows","position":{"start":{"line":3,"column":4,"offset":5},"end":{"line":3,"column":45,"offset":46},"indent":[]}}],"position":{"start":{"line":3,"column":1,"offset":2},"end":{"line":3,"column":45,"offset":46},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Install or Uninstall NT Service (may have to run these files via Run As Administrator):","position":{"start":{"line":5,"column":5,"offset":52},"end":{"line":5,"column":92,"offset":139},"indent":[]}}],"position":{"start":{"line":5,"column":1,"offset":48},"end":{"line":5,"column":92,"offset":139},"indent":[]}},{"type":"code","lang":null,"value":"%SONARQUBE_HOME%/bin/windows-x86-64/InstallNTService.bat\n%SONARQUBE_HOME%/bin/windows-x86-64/UninstallNTService.bat","position":{"start":{"line":7,"column":1,"offset":141},"end":{"line":10,"column":4,"offset":264},"indent":[1,1,1]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Start or Stop the Service:","position":{"start":{"line":12,"column":5,"offset":270},"end":{"line":12,"column":31,"offset":296},"indent":[]}}],"position":{"start":{"line":12,"column":1,"offset":266},"end":{"line":12,"column":31,"offset":296},"indent":[]}},{"type":"code","lang":null,"value":"%SONARQUBE_HOME%/bin/windows-x86-64/StartNTService.bat\n%SONARQUBE_HOME%/bin/windows-x86-64/StopNTService.bat","position":{"start":{"line":14,"column":1,"offset":298},"end":{"line":17,"column":4,"offset":414},"indent":[1,1,1]}},{"type":"paragraph","children":[{"type":"strong","children":[{"type":"text","value":"Note:","position":{"start":{"line":18,"column":3,"offset":417},"end":{"line":18,"column":8,"offset":422},"indent":[]}}],"position":{"start":{"line":18,"column":1,"offset":415},"end":{"line":18,"column":10,"offset":424},"indent":[]}},{"type":"text","value":" ","position":{"start":{"line":18,"column":10,"offset":424},"end":{"line":18,"column":11,"offset":425},"indent":[]}},{"type":"inlineCode","value":"%SONARQUBE_HOME%/bin/windows-x86-64/StopNTService.bat","position":{"start":{"line":18,"column":11,"offset":425},"end":{"line":18,"column":66,"offset":480},"indent":[]}},{"type":"text","value":" does a graceful shutdown where no new analysis report processing can start, but the tasks in progress are allowed to finish. The time a stop will take depends on the processing time of the tasks in progress. You'll need to kill all SonarQube processes manually to force a stop.","position":{"start":{"line":18,"column":66,"offset":480},"end":{"line":18,"column":344,"offset":758},"indent":[]}}],"position":{"start":{"line":18,"column":1,"offset":415},"end":{"line":18,"column":344,"offset":758},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Running SonarQube Manually on Linux","position":{"start":{"line":20,"column":4,"offset":763},"end":{"line":20,"column":39,"offset":798},"indent":[]}}],"position":{"start":{"line":20,"column":1,"offset":760},"end":{"line":20,"column":39,"offset":798},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Start or Stop the Instance","position":{"start":{"line":22,"column":5,"offset":804},"end":{"line":22,"column":31,"offset":830},"indent":[]}}],"position":{"start":{"line":22,"column":1,"offset":800},"end":{"line":22,"column":31,"offset":830},"indent":[]}},{"type":"code","lang":null,"value":"Start:\n$SONAR_HOME/bin/linux-x86-64/sonar.sh start\n\nGraceful shutdown:\n$SONAR_HOME/bin/linux-x86-64/sonar.sh stop\n\nHard stop:\n$SONAR_HOME/bin/linux-x86-64/sonar.sh force-stop","position":{"start":{"line":24,"column":1,"offset":832},"end":{"line":33,"column":4,"offset":1014},"indent":[1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"strong","children":[{"type":"text","value":"Note:","position":{"start":{"line":34,"column":3,"offset":1017},"end":{"line":34,"column":8,"offset":1022},"indent":[]}}],"position":{"start":{"line":34,"column":1,"offset":1015},"end":{"line":34,"column":10,"offset":1024},"indent":[]}},{"type":"text","value":" Stop does a graceful shutdown where no new analysis report processing can start, but the tasks in progress are allowed to finish. The time a stop will take depends on the processing time of the tasks in progress. Use force stop for a hard stop. ","position":{"start":{"line":34,"column":10,"offset":1024},"end":{"line":34,"column":256,"offset":1270},"indent":[]}}],"position":{"start":{"line":34,"column":1,"offset":1015},"end":{"line":34,"column":256,"offset":1270},"indent":[]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Running SonarQube as a Service on Linux with SystemD","position":{"start":{"line":36,"column":4,"offset":1275},"end":{"line":36,"column":56,"offset":1327},"indent":[]}}],"position":{"start":{"line":36,"column":1,"offset":1272},"end":{"line":36,"column":56,"offset":1327},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"On Unix system using SystemD, you can install SonarQube as a service. You cannot run SonarQube as ","position":{"start":{"line":38,"column":1,"offset":1329},"end":{"line":38,"column":99,"offset":1427},"indent":[]}},{"type":"inlineCode","value":"root","position":{"start":{"line":38,"column":99,"offset":1427},"end":{"line":38,"column":105,"offset":1433},"indent":[]}},{"type":"text","value":" in 'nix systems. Ideally, you will created a new account dedicated to the purpose of running SonarQube.\nLet's suppose:","position":{"start":{"line":38,"column":105,"offset":1433},"end":{"line":39,"column":15,"offset":1552},"indent":[1]}}],"position":{"start":{"line":38,"column":1,"offset":1329},"end":{"line":39,"column":15,"offset":1552},"indent":[1]}},{"type":"list","ordered":false,"start":null,"loose":false,"children":[{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"The user used to start the service is ","position":{"start":{"line":41,"column":3,"offset":1556},"end":{"line":41,"column":41,"offset":1594},"indent":[]}},{"type":"inlineCode","value":"sonarqube","position":{"start":{"line":41,"column":41,"offset":1594},"end":{"line":41,"column":52,"offset":1605},"indent":[]}}],"position":{"start":{"line":41,"column":3,"offset":1556},"end":{"line":41,"column":52,"offset":1605},"indent":[]}}],"position":{"start":{"line":41,"column":1,"offset":1554},"end":{"line":41,"column":52,"offset":1605},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"The group used to start the service is ","position":{"start":{"line":42,"column":3,"offset":1608},"end":{"line":42,"column":42,"offset":1647},"indent":[]}},{"type":"inlineCode","value":"sonarqube","position":{"start":{"line":42,"column":42,"offset":1647},"end":{"line":42,"column":53,"offset":1658},"indent":[]}}],"position":{"start":{"line":42,"column":3,"offset":1608},"end":{"line":42,"column":53,"offset":1658},"indent":[]}}],"position":{"start":{"line":42,"column":1,"offset":1606},"end":{"line":42,"column":53,"offset":1658},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"The Java Virtual Machine is installed in ","position":{"start":{"line":43,"column":3,"offset":1661},"end":{"line":43,"column":44,"offset":1702},"indent":[]}},{"type":"inlineCode","value":"/opt/java/","position":{"start":{"line":43,"column":44,"offset":1702},"end":{"line":43,"column":56,"offset":1714},"indent":[]}}],"position":{"start":{"line":43,"column":3,"offset":1661},"end":{"line":43,"column":56,"offset":1714},"indent":[]}}],"position":{"start":{"line":43,"column":1,"offset":1659},"end":{"line":43,"column":56,"offset":1714},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"SonarQube has been unzipped into ","position":{"start":{"line":44,"column":3,"offset":1717},"end":{"line":44,"column":36,"offset":1750},"indent":[]}},{"type":"inlineCode","value":"/opt/sonarqube/","position":{"start":{"line":44,"column":36,"offset":1750},"end":{"line":44,"column":53,"offset":1767},"indent":[]}}],"position":{"start":{"line":44,"column":3,"offset":1717},"end":{"line":44,"column":53,"offset":1767},"indent":[]}}],"position":{"start":{"line":44,"column":1,"offset":1715},"end":{"line":44,"column":53,"offset":1767},"indent":[]}}],"position":{"start":{"line":41,"column":1,"offset":1554},"end":{"line":44,"column":53,"offset":1767},"indent":[1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Then create the file ","position":{"start":{"line":46,"column":1,"offset":1769},"end":{"line":46,"column":22,"offset":1790},"indent":[]}},{"type":"inlineCode","value":"/etc/systemd/system/sonarqube.service","position":{"start":{"line":46,"column":22,"offset":1790},"end":{"line":46,"column":61,"offset":1829},"indent":[]}},{"type":"text","value":" ","position":{"start":{"line":46,"column":61,"offset":1829},"end":{"line":46,"column":62,"offset":1830},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"based on","position":{"start":{"line":46,"column":63,"offset":1831},"end":{"line":46,"column":71,"offset":1839},"indent":[]}}],"position":{"start":{"line":46,"column":62,"offset":1830},"end":{"line":46,"column":72,"offset":1840},"indent":[]}},{"type":"text","value":" the following ","position":{"start":{"line":46,"column":72,"offset":1840},"end":{"line":46,"column":87,"offset":1855},"indent":[]}}],"position":{"start":{"line":46,"column":1,"offset":1769},"end":{"line":46,"column":87,"offset":1855},"indent":[]}},{"type":"code","lang":null,"value":"[Unit]\nDescription=SonarQube service\nAfter=syslog.target network.target\n\n[Service]\nType=simple\nUser=sonarqube\nGroup=sonarqube\nPermissionsStartOnly=true\nExecStart=/bin/nohup /opt/java/bin/java -Xms32m -Xmx32m -Djava.net.preferIPv4Stack=true -jar /opt/sonarqube/lib/sonar-application-7.4.jar\nStandardOutput=syslog\nLimitNOFILE=65536\nLimitNPROC=8192\nTimeoutStartSec=5\nRestart=always\nSuccessExitStatus=143\n\n[Install]\nWantedBy=multi-user.target","position":{"start":{"line":48,"column":1,"offset":1857},"end":{"line":68,"column":4,"offset":2303},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"strong","children":[{"type":"text","value":"Note","position":{"start":{"line":69,"column":3,"offset":2306},"end":{"line":69,"column":7,"offset":2310},"indent":[]}}],"position":{"start":{"line":69,"column":1,"offset":2304},"end":{"line":69,"column":9,"offset":2312},"indent":[]}}],"position":{"start":{"line":69,"column":1,"offset":2304},"end":{"line":69,"column":9,"offset":2312},"indent":[]}},{"type":"list","ordered":false,"start":null,"loose":false,"children":[{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"Because the sonar-application jar name ends with the version of SonarQube, you will need to adjust the ","position":{"start":{"line":70,"column":3,"offset":2315},"end":{"line":70,"column":106,"offset":2418},"indent":[]}},{"type":"inlineCode","value":"ExecStart","position":{"start":{"line":70,"column":106,"offset":2418},"end":{"line":70,"column":117,"offset":2429},"indent":[]}},{"type":"text","value":" command accordingly on install and at each upgrade.","position":{"start":{"line":70,"column":117,"offset":2429},"end":{"line":70,"column":169,"offset":2481},"indent":[]}}],"position":{"start":{"line":70,"column":3,"offset":2315},"end":{"line":70,"column":169,"offset":2481},"indent":[]}}],"position":{"start":{"line":70,"column":1,"offset":2313},"end":{"line":70,"column":169,"offset":2481},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"The SonarQube data directory, ","position":{"start":{"line":71,"column":3,"offset":2484},"end":{"line":71,"column":33,"offset":2514},"indent":[]}},{"type":"inlineCode","value":"/opt/sonarqube/data","position":{"start":{"line":71,"column":33,"offset":2514},"end":{"line":71,"column":54,"offset":2535},"indent":[]}},{"type":"text","value":", and the extensions directory, ","position":{"start":{"line":71,"column":54,"offset":2535},"end":{"line":71,"column":86,"offset":2567},"indent":[]}},{"type":"inlineCode","value":"/opt/sonarqube/extensions","position":{"start":{"line":71,"column":86,"offset":2567},"end":{"line":71,"column":113,"offset":2594},"indent":[]}},{"type":"text","value":" should be owned by the ","position":{"start":{"line":71,"column":113,"offset":2594},"end":{"line":71,"column":137,"offset":2618},"indent":[]}},{"type":"inlineCode","value":"sonarqube","position":{"start":{"line":71,"column":137,"offset":2618},"end":{"line":71,"column":148,"offset":2629},"indent":[]}},{"type":"text","value":" user. As a good practice, the rest should be owned by ","position":{"start":{"line":71,"column":148,"offset":2629},"end":{"line":71,"column":203,"offset":2684},"indent":[]}},{"type":"inlineCode","value":"root","position":{"start":{"line":71,"column":203,"offset":2684},"end":{"line":71,"column":209,"offset":2690},"indent":[]}}],"position":{"start":{"line":71,"column":3,"offset":2484},"end":{"line":71,"column":209,"offset":2690},"indent":[]}}],"position":{"start":{"line":71,"column":1,"offset":2482},"end":{"line":71,"column":209,"offset":2690},"indent":[]}}],"position":{"start":{"line":70,"column":1,"offset":2313},"end":{"line":71,"column":209,"offset":2690},"indent":[1]}},{"type":"paragraph","children":[{"type":"text","value":"Once your ","position":{"start":{"line":73,"column":1,"offset":2692},"end":{"line":73,"column":11,"offset":2702},"indent":[]}},{"type":"inlineCode","value":"sonarqube.service","position":{"start":{"line":73,"column":11,"offset":2702},"end":{"line":73,"column":30,"offset":2721},"indent":[]}},{"type":"text","value":" file is created and properly configured, run:","position":{"start":{"line":73,"column":30,"offset":2721},"end":{"line":73,"column":76,"offset":2767},"indent":[]}}],"position":{"start":{"line":73,"column":1,"offset":2692},"end":{"line":73,"column":76,"offset":2767},"indent":[]}},{"type":"code","lang":null,"value":"sudo systemctl enable sonarqube.service\nsudo systemctl start sonarqube.service","position":{"start":{"line":74,"column":1,"offset":2768},"end":{"line":77,"column":4,"offset":2854},"indent":[1,1,1]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Running SonarQube as a Service on Linux with initd","position":{"start":{"line":79,"column":4,"offset":2859},"end":{"line":79,"column":54,"offset":2909},"indent":[]}}],"position":{"start":{"line":79,"column":1,"offset":2856},"end":{"line":79,"column":54,"offset":2909},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The following has been tested on Ubuntu 8.10 and CentOS 6.2.","position":{"start":{"line":81,"column":1,"offset":2911},"end":{"line":81,"column":61,"offset":2971},"indent":[]}}],"position":{"start":{"line":81,"column":1,"offset":2911},"end":{"line":81,"column":61,"offset":2971},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Create the file /etc/init.d/sonar with this content:","position":{"start":{"line":83,"column":1,"offset":2973},"end":{"line":83,"column":53,"offset":3025},"indent":[]}}],"position":{"start":{"line":83,"column":1,"offset":2973},"end":{"line":83,"column":53,"offset":3025},"indent":[]}},{"type":"code","lang":null,"value":"#!/bin/sh\n#\n# rc file for SonarQube\n#\n# chkconfig: 345 96 10\n# description: SonarQube system (www.sonarsource.org)\n#\n### BEGIN INIT INFO\n# Provides: sonar\n# Required-Start: $network\n# Required-Stop: $network\n# Default-Start: 3 4 5\n# Default-Stop: 0 1 2 6\n# Short-Description: SonarQube system (www.sonarsource.org)\n# Description: SonarQube system (www.sonarsource.org)\n### END INIT INFO\n \n/usr/bin/sonar $*","position":{"start":{"line":85,"column":1,"offset":3027},"end":{"line":104,"column":4,"offset":3441},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Register SonarQube at boot time (RedHat, CentOS, 64 bit):","position":{"start":{"line":106,"column":1,"offset":3443},"end":{"line":106,"column":58,"offset":3500},"indent":[]}}],"position":{"start":{"line":106,"column":1,"offset":3443},"end":{"line":106,"column":58,"offset":3500},"indent":[]}},{"type":"code","lang":null,"value":"sudo ln -s $SONAR_HOME/bin/linux-x86-64/sonar.sh /usr/bin/sonar\nsudo chmod 755 /etc/init.d/sonar\nsudo chkconfig --add sonar","position":{"start":{"line":108,"column":1,"offset":3502},"end":{"line":112,"column":4,"offset":3633},"indent":[1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Once registration is done, run:","position":{"start":{"line":113,"column":1,"offset":3634},"end":{"line":113,"column":32,"offset":3665},"indent":[]}}],"position":{"start":{"line":113,"column":1,"offset":3634},"end":{"line":113,"column":32,"offset":3665},"indent":[]}},{"type":"code","lang":null,"value":"sudo service sonar start","position":{"start":{"line":114,"column":1,"offset":3666},"end":{"line":116,"column":4,"offset":3698},"indent":[1,1]}},{"type":"heading","depth":2,"children":[{"type":"text","value":"Securing the Server Behind a Proxy","position":{"start":{"line":118,"column":4,"offset":3703},"end":{"line":118,"column":38,"offset":3737},"indent":[]}}],"position":{"start":{"line":118,"column":1,"offset":3700},"end":{"line":118,"column":38,"offset":3737},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"This section helps you configure the SonarQube Server if you want to run it behind a proxy. This can be done for security concerns or to consolidate multiple disparate applications.","position":{"start":{"line":120,"column":1,"offset":3739},"end":{"line":120,"column":182,"offset":3920},"indent":[]}}],"position":{"start":{"line":120,"column":1,"offset":3739},"end":{"line":120,"column":182,"offset":3920},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Server Configuration","position":{"start":{"line":122,"column":5,"offset":3926},"end":{"line":122,"column":25,"offset":3946},"indent":[]}}],"position":{"start":{"line":122,"column":1,"offset":3922},"end":{"line":122,"column":25,"offset":3946},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"To run the SonarQube server over HTTPS, you must build a standard reverse proxy infrastructure.","position":{"start":{"line":124,"column":1,"offset":3948},"end":{"line":124,"column":96,"offset":4043},"indent":[]}}],"position":{"start":{"line":124,"column":1,"offset":3948},"end":{"line":124,"column":96,"offset":4043},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"The reverse proxy must be configured to set the value ","position":{"start":{"line":126,"column":1,"offset":4045},"end":{"line":126,"column":55,"offset":4099},"indent":[]}},{"type":"inlineCode","value":"X_FORWARDED_PROTO: https","position":{"start":{"line":126,"column":55,"offset":4099},"end":{"line":126,"column":81,"offset":4125},"indent":[]}},{"type":"text","value":" in each HTTP request header. Without this property, redirection initiated by the SonarQube server will fall back on HTTP.","position":{"start":{"line":126,"column":81,"offset":4125},"end":{"line":126,"column":203,"offset":4247},"indent":[]}}],"position":{"start":{"line":126,"column":1,"offset":4045},"end":{"line":126,"column":203,"offset":4247},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Using an Apache Proxy","position":{"start":{"line":128,"column":5,"offset":4253},"end":{"line":128,"column":26,"offset":4274},"indent":[]}}],"position":{"start":{"line":128,"column":1,"offset":4249},"end":{"line":128,"column":26,"offset":4274},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"We assume that you've already installed Apache 2 with module mod","position":{"start":{"line":130,"column":1,"offset":4276},"end":{"line":130,"column":65,"offset":4340},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"proxy, that SonarQube is running and available on `","position":{"start":{"line":130,"column":66,"offset":4341},"end":{"line":130,"column":117,"offset":4392},"indent":[]}},{"type":"link","title":null,"url":"http://private","children":[{"type":"text","value":"http://private","position":{"start":{"line":130,"column":117,"offset":4392},"end":{"line":130,"column":131,"offset":4406},"indent":[]}}],"position":{"start":{"line":130,"column":117,"offset":4392},"end":{"line":130,"column":131,"offset":4406},"indent":[]}}],"position":{"start":{"line":130,"column":65,"offset":4340},"end":{"line":130,"column":132,"offset":4407},"indent":[]}},{"type":"text","value":"sonar","position":{"start":{"line":130,"column":132,"offset":4407},"end":{"line":130,"column":137,"offset":4412},"indent":[]}},{"type":"emphasis","children":[{"type":"text","value":"host:sonar","position":{"start":{"line":130,"column":138,"offset":4413},"end":{"line":130,"column":148,"offset":4423},"indent":[]}}],"position":{"start":{"line":130,"column":137,"offset":4412},"end":{"line":130,"column":149,"offset":4424},"indent":[]}},{"type":"text","value":"port/","position":{"start":{"line":130,"column":149,"offset":4424},"end":{"line":130,"column":154,"offset":4429},"indent":[]}},{"type":"inlineCode","value":"and that you want to configure a Virtual Host for","position":{"start":{"line":130,"column":154,"offset":4429},"end":{"line":130,"column":207,"offset":4482},"indent":[]}},{"type":"text","value":"www.public_sonar.com`.","position":{"start":{"line":130,"column":207,"offset":4482},"end":{"line":130,"column":229,"offset":4504},"indent":[]}}],"position":{"start":{"line":130,"column":1,"offset":4276},"end":{"line":130,"column":229,"offset":4504},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"At this point, edit the HTTPd configuration file for the ","position":{"start":{"line":132,"column":1,"offset":4506},"end":{"line":132,"column":58,"offset":4563},"indent":[]}},{"type":"inlineCode","value":"www.public_sonar.com","position":{"start":{"line":132,"column":58,"offset":4563},"end":{"line":132,"column":80,"offset":4585},"indent":[]}},{"type":"text","value":" virtual host. Include the following to expose SonarQube via ","position":{"start":{"line":132,"column":80,"offset":4585},"end":{"line":132,"column":141,"offset":4646},"indent":[]}},{"type":"inlineCode","value":"mod_proxy","position":{"start":{"line":132,"column":141,"offset":4646},"end":{"line":132,"column":152,"offset":4657},"indent":[]}},{"type":"text","value":" at ","position":{"start":{"line":132,"column":152,"offset":4657},"end":{"line":132,"column":156,"offset":4661},"indent":[]}},{"type":"inlineCode","value":"http://www.public_sonar.com/","position":{"start":{"line":132,"column":156,"offset":4661},"end":{"line":132,"column":186,"offset":4691},"indent":[]}},{"type":"text","value":":","position":{"start":{"line":132,"column":186,"offset":4691},"end":{"line":132,"column":187,"offset":4692},"indent":[]}}],"position":{"start":{"line":132,"column":1,"offset":4506},"end":{"line":132,"column":187,"offset":4692},"indent":[]}},{"type":"code","lang":null,"value":"ProxyRequests Off\nProxyPreserveHost On\n<VirtualHost *:80>\n  ServerName www.public_sonar.com\n  ServerAdmin admin@somecompany.com\n  ProxyPass / http://private_sonar_host:sonar_port/\n  ProxyPassReverse / http://www.public_sonar.com/\n  ErrorLog logs/somecompany/sonar/error.log\n  CustomLog logs/somecompany/sonar/access.log common\n</VirtualHost>","position":{"start":{"line":134,"column":1,"offset":4694},"end":{"line":145,"column":4,"offset":5043},"indent":[1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Apache configuration is going to vary based on your own application's requirements and the way you intend to expose SonarQube to the outside world. If you need more details about Apache HTTPd and mod_proxy, please see ","position":{"start":{"line":147,"column":1,"offset":5045},"end":{"line":147,"column":219,"offset":5263},"indent":[]}},{"type":"link","title":null,"url":"http://httpd.apache.org","children":[{"type":"text","value":"http://httpd.apache.org","position":{"start":{"line":147,"column":220,"offset":5264},"end":{"line":147,"column":243,"offset":5287},"indent":[]}}],"position":{"start":{"line":147,"column":219,"offset":5263},"end":{"line":147,"column":269,"offset":5313},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":147,"column":269,"offset":5313},"end":{"line":147,"column":270,"offset":5314},"indent":[]}}],"position":{"start":{"line":147,"column":1,"offset":5045},"end":{"line":147,"column":270,"offset":5314},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Using Nginx","position":{"start":{"line":149,"column":5,"offset":5320},"end":{"line":149,"column":16,"offset":5331},"indent":[]}}],"position":{"start":{"line":149,"column":1,"offset":5316},"end":{"line":149,"column":16,"offset":5331},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"We assume that you've already installed Nginx, that you are using a Virtual Host for www.somecompany.com and that SonarQube is running and available on ","position":{"start":{"line":151,"column":1,"offset":5333},"end":{"line":151,"column":153,"offset":5485},"indent":[]}},{"type":"inlineCode","value":"http://sonarhost:sonarport/","position":{"start":{"line":151,"column":153,"offset":5485},"end":{"line":151,"column":182,"offset":5514},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":151,"column":182,"offset":5514},"end":{"line":151,"column":183,"offset":5515},"indent":[]}}],"position":{"start":{"line":151,"column":1,"offset":5333},"end":{"line":151,"column":183,"offset":5515},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"At this point, edit the Nginx configuration file. Include the following to expose SonarQube at ","position":{"start":{"line":153,"column":1,"offset":5517},"end":{"line":153,"column":96,"offset":5612},"indent":[]}},{"type":"link","title":null,"url":"http://www.somecompany.com/","children":[{"type":"text","value":"http://www.somecompany.com/","position":{"start":{"line":153,"column":96,"offset":5612},"end":{"line":153,"column":123,"offset":5639},"indent":[]}}],"position":{"start":{"line":153,"column":96,"offset":5612},"end":{"line":153,"column":123,"offset":5639},"indent":[]}},{"type":"text","value":":","position":{"start":{"line":153,"column":123,"offset":5639},"end":{"line":153,"column":124,"offset":5640},"indent":[]}}],"position":{"start":{"line":153,"column":1,"offset":5517},"end":{"line":153,"column":124,"offset":5640},"indent":[]}},{"type":"code","lang":null,"value":"# the server directive is nginx's virtual host directive\nserver {\n  # port to listen on. Can also be set to an IP:PORT\n  listen 80;\n \n  # sets the domain[s] that this vhost server requests for\n  server_name www.somecompany.com;\n \n  location / {\n    proxy_pass http://sonarhost:sonarport;\n  }\n}","position":{"start":{"line":155,"column":1,"offset":5642},"end":{"line":168,"column":4,"offset":5943},"indent":[1,1,1,1,1,1,1,1,1,1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Nginx configuration will vary based on your own application's requirements and the way you intend to expose SonarQube to the outside world. If you need more details about Nginx, please see ","position":{"start":{"line":170,"column":1,"offset":5945},"end":{"line":170,"column":190,"offset":6134},"indent":[]}},{"type":"link","title":null,"url":"https://www.nginx.com/resources/admin-guide/reverse-proxy/","children":[{"type":"text","value":"https://www.nginx.com/resources/admin-guide/reverse-proxy/","position":{"start":{"line":170,"column":191,"offset":6135},"end":{"line":170,"column":249,"offset":6193},"indent":[]}}],"position":{"start":{"line":170,"column":190,"offset":6134},"end":{"line":170,"column":310,"offset":6254},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":170,"column":310,"offset":6254},"end":{"line":170,"column":311,"offset":6255},"indent":[]}}],"position":{"start":{"line":170,"column":1,"offset":5945},"end":{"line":170,"column":311,"offset":6255},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Note that you may need to increase the max URL length since SonarQube requests can have URLs longer than 2048.","position":{"start":{"line":172,"column":1,"offset":6257},"end":{"line":172,"column":111,"offset":6367},"indent":[]}}],"position":{"start":{"line":172,"column":1,"offset":6257},"end":{"line":172,"column":111,"offset":6367},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"Using IIS","position":{"start":{"line":174,"column":5,"offset":6373},"end":{"line":174,"column":14,"offset":6382},"indent":[]}}],"position":{"start":{"line":174,"column":1,"offset":6369},"end":{"line":174,"column":14,"offset":6382},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Please see: ","position":{"start":{"line":176,"column":1,"offset":6384},"end":{"line":176,"column":13,"offset":6396},"indent":[]}},{"type":"link","title":null,"url":"http://blog.jessehouwing.nl/2016/02/configure-ssl-for-sonarqube-on-windows.html","children":[{"type":"text","value":"http://blog.jessehouwing.nl/2016/02/configure-ssl-for-sonarqube-on-windows.html","position":{"start":{"line":176,"column":14,"offset":6397},"end":{"line":176,"column":93,"offset":6476},"indent":[]}}],"position":{"start":{"line":176,"column":13,"offset":6396},"end":{"line":176,"column":175,"offset":6558},"indent":[]}}],"position":{"start":{"line":176,"column":1,"offset":6384},"end":{"line":176,"column":175,"offset":6558},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"Note that the setup described in this blog post is not approprite for SAML through IIS.","position":{"start":{"line":178,"column":1,"offset":6560},"end":{"line":178,"column":88,"offset":6647},"indent":[]}}],"position":{"start":{"line":178,"column":1,"offset":6560},"end":{"line":178,"column":88,"offset":6647},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":180,"column":1,"offset":6649}}}}