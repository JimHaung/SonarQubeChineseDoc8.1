{"expireTime":9007200835559383000,"key":"transformer-remark-markdown-ast-e16616834fedd4d747f40474a1b5573e-gatsby-remark-custom-blocks-/SonarQubeChineseDoc8.1","val":{"type":"root","children":[{"type":"paragraph","children":[{"type":"emphasis","children":[{"type":"text","value":"The ability to manage Compute Engine performance is available as part of ","position":{"start":{"line":2,"column":2,"offset":2},"end":{"line":2,"column":75,"offset":75},"indent":[]}},{"type":"link","title":null,"url":"https://redirect.sonarsource.com/editions/enterprise.html","children":[{"type":"text","value":"Enterprise Edition","position":{"start":{"line":2,"column":76,"offset":76},"end":{"line":2,"column":94,"offset":94},"indent":[]}}],"position":{"start":{"line":2,"column":75,"offset":75},"end":{"line":2,"column":154,"offset":154},"indent":[]}},{"type":"text","value":" and ","position":{"start":{"line":2,"column":154,"offset":154},"end":{"line":2,"column":159,"offset":159},"indent":[]}},{"type":"link","title":null,"url":"https://www.sonarsource.com/plans-and-pricing/","children":[{"type":"text","value":"above","position":{"start":{"line":2,"column":160,"offset":160},"end":{"line":2,"column":165,"offset":165},"indent":[]}}],"position":{"start":{"line":2,"column":159,"offset":159},"end":{"line":2,"column":214,"offset":214},"indent":[]}},{"type":"text","value":".","position":{"start":{"line":2,"column":214,"offset":214},"end":{"line":2,"column":215,"offset":215},"indent":[]}}],"position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":2,"column":216,"offset":216},"indent":[]}}],"position":{"start":{"line":2,"column":1,"offset":1},"end":{"line":2,"column":216,"offset":216},"indent":[]}},{"type":"heading","depth":3,"children":[{"type":"text","value":"How can I get analyses through the Compute Engine Queue faster?","position":{"start":{"line":5,"column":5,"offset":223},"end":{"line":5,"column":68,"offset":286},"indent":[]}}],"position":{"start":{"line":5,"column":1,"offset":219},"end":{"line":5,"column":68,"offset":286},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"If analyses are taking too long to process, it may be that you need to increase the number of Compute Engine (CE) workers (","position":{"start":{"line":6,"column":1,"offset":287},"end":{"line":6,"column":124,"offset":410},"indent":[]}},{"type":"strong","children":[{"type":"link","title":null,"url":"/SonarQubeChineseDoc8.1/#sonarqube-admin#/admin/background_tasks","children":[{"type":"text","value":"Administration > Projects > Background Tasks > Number of Workers","position":{"start":{"line":6,"column":127,"offset":413},"end":{"line":6,"column":191,"offset":477},"indent":[]}}],"position":{"start":{"line":6,"column":126,"offset":412},"end":{"line":6,"column":235,"offset":521},"indent":[]}}],"position":{"start":{"line":6,"column":124,"offset":410},"end":{"line":6,"column":237,"offset":523},"indent":[]}},{"type":"text","value":"). ","position":{"start":{"line":6,"column":237,"offset":523},"end":{"line":6,"column":240,"offset":526},"indent":[]}}],"position":{"start":{"line":6,"column":1,"offset":287},"end":{"line":6,"column":240,"offset":526},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"There are two cases to consider:","position":{"start":{"line":8,"column":1,"offset":528},"end":{"line":8,"column":33,"offset":560},"indent":[]}}],"position":{"start":{"line":8,"column":1,"offset":528},"end":{"line":8,"column":33,"offset":560},"indent":[]}},{"type":"list","ordered":true,"start":1,"loose":false,"children":[{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"slowness comes from the fact that the queue is often full of pending tasks","position":{"start":{"line":10,"column":4,"offset":565},"end":{"line":10,"column":78,"offset":639},"indent":[]}}],"position":{"start":{"line":10,"column":4,"offset":565},"end":{"line":10,"column":78,"offset":639},"indent":[]}}],"position":{"start":{"line":10,"column":1,"offset":562},"end":{"line":10,"column":78,"offset":639},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"individual tasks take a long time to process","position":{"start":{"line":11,"column":4,"offset":643},"end":{"line":11,"column":48,"offset":687},"indent":[]}}],"position":{"start":{"line":11,"column":4,"offset":643},"end":{"line":11,"column":48,"offset":687},"indent":[]}}],"position":{"start":{"line":11,"column":1,"offset":640},"end":{"line":11,"column":48,"offset":687},"indent":[]}}],"position":{"start":{"line":10,"column":1,"offset":562},"end":{"line":11,"column":48,"offset":687},"indent":[1]}},{"type":"paragraph","children":[{"type":"text","value":"In the first case, increasing the number of workers could help. The second case should be carefully evaluated. In either case, when considering increasing the number of CE workers, two questions should be answered.","position":{"start":{"line":13,"column":1,"offset":689},"end":{"line":13,"column":215,"offset":903},"indent":[]}}],"position":{"start":{"line":13,"column":1,"offset":689},"end":{"line":13,"column":215,"offset":903},"indent":[]}},{"type":"list","ordered":false,"start":null,"loose":false,"children":[{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"does my infrastructure allow me to increase the number of workers?","position":{"start":{"line":15,"column":3,"offset":907},"end":{"line":15,"column":69,"offset":973},"indent":[]}}],"position":{"start":{"line":15,"column":3,"offset":907},"end":{"line":15,"column":69,"offset":973},"indent":[]}}],"position":{"start":{"line":15,"column":1,"offset":905},"end":{"line":15,"column":69,"offset":973},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"to what extent should I increase the number of workers? I.E. What number should I configure?","position":{"start":{"line":16,"column":3,"offset":976},"end":{"line":16,"column":95,"offset":1068},"indent":[]}}],"position":{"start":{"line":16,"column":3,"offset":976},"end":{"line":16,"column":95,"offset":1068},"indent":[]}}],"position":{"start":{"line":16,"column":1,"offset":974},"end":{"line":16,"column":95,"offset":1068},"indent":[]}}],"position":{"start":{"line":15,"column":1,"offset":905},"end":{"line":16,"column":95,"offset":1068},"indent":[1]}},{"type":"paragraph","children":[{"type":"text","value":"Increasing the number of workers will increase the stress on the resources consumed by the Compute Engine. Those resources are:","position":{"start":{"line":18,"column":1,"offset":1070},"end":{"line":18,"column":128,"offset":1197},"indent":[]}}],"position":{"start":{"line":18,"column":1,"offset":1070},"end":{"line":18,"column":128,"offset":1197},"indent":[]}},{"type":"list","ordered":false,"start":null,"loose":false,"children":[{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"the DB","position":{"start":{"line":20,"column":3,"offset":1201},"end":{"line":20,"column":9,"offset":1207},"indent":[]}}],"position":{"start":{"line":20,"column":3,"offset":1201},"end":{"line":20,"column":9,"offset":1207},"indent":[]}}],"position":{"start":{"line":20,"column":1,"offset":1199},"end":{"line":20,"column":9,"offset":1207},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"disk I/O","position":{"start":{"line":21,"column":3,"offset":1210},"end":{"line":21,"column":11,"offset":1218},"indent":[]}}],"position":{"start":{"line":21,"column":3,"offset":1210},"end":{"line":21,"column":11,"offset":1218},"indent":[]}}],"position":{"start":{"line":21,"column":1,"offset":1208},"end":{"line":21,"column":11,"offset":1218},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"network","position":{"start":{"line":22,"column":3,"offset":1221},"end":{"line":22,"column":10,"offset":1228},"indent":[]}}],"position":{"start":{"line":22,"column":3,"offset":1221},"end":{"line":22,"column":10,"offset":1228},"indent":[]}}],"position":{"start":{"line":22,"column":1,"offset":1219},"end":{"line":22,"column":10,"offset":1228},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"heap","position":{"start":{"line":23,"column":3,"offset":1231},"end":{"line":23,"column":7,"offset":1235},"indent":[]}}],"position":{"start":{"line":23,"column":3,"offset":1231},"end":{"line":23,"column":7,"offset":1235},"indent":[]}}],"position":{"start":{"line":23,"column":1,"offset":1229},"end":{"line":23,"column":7,"offset":1235},"indent":[]}},{"type":"listItem","loose":false,"checked":null,"children":[{"type":"paragraph","children":[{"type":"text","value":"CPU","position":{"start":{"line":24,"column":3,"offset":1238},"end":{"line":24,"column":6,"offset":1241},"indent":[]}}],"position":{"start":{"line":24,"column":3,"offset":1238},"end":{"line":24,"column":6,"offset":1241},"indent":[]}}],"position":{"start":{"line":24,"column":1,"offset":1236},"end":{"line":24,"column":6,"offset":1241},"indent":[]}}],"position":{"start":{"line":20,"column":1,"offset":1199},"end":{"line":24,"column":6,"offset":1241},"indent":[1,1,1,1]}},{"type":"paragraph","children":[{"type":"text","value":"Of those, only the last two are internal to the CE.","position":{"start":{"line":26,"column":1,"offset":1243},"end":{"line":26,"column":52,"offset":1294},"indent":[]}}],"position":{"start":{"line":26,"column":1,"offset":1243},"end":{"line":26,"column":52,"offset":1294},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"If slowness comes from any of the external resources (DB, disk I/O, network), then increasing the number of workers could actually slow the processing of individual reports (think of two people trying to go through a door at  the same time). However, if your slowness is caused by large individual analysis reports hogging the CE worker for extended periods of time, then enabling parallel processing by adding another worker could help. But if you do, you need to take a look at the internal resources.","position":{"start":{"line":28,"column":1,"offset":1296},"end":{"line":28,"column":504,"offset":1799},"indent":[]}}],"position":{"start":{"line":28,"column":1,"offset":1296},"end":{"line":28,"column":504,"offset":1799},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"CE workers are not CPU-intensive and memory use depends entirely on the project that was analyzed. Some need a lot of memory, others don't. But with multiple CE workers, you should increase CE heap size by a multiple of the number of workers. The same logic applies to CPU: if running with one worker consumes up to Y% of CPU, then you should plan for Z workers requiring Y*Z% of CPU.","position":{"start":{"line":30,"column":1,"offset":1801},"end":{"line":30,"column":385,"offset":2185},"indent":[]}}],"position":{"start":{"line":30,"column":1,"offset":1801},"end":{"line":30,"column":385,"offset":2185},"indent":[]}},{"type":"paragraph","children":[{"type":"text","value":"To accurately diagnose your situation, monitor network latency, the I/O of the SonarQube instance, and the database CPU and memory usage to evaluate whether slowness is mainly/mostly/only related to external resources. ","position":{"start":{"line":32,"column":1,"offset":2187},"end":{"line":32,"column":220,"offset":2406},"indent":[]}}],"position":{"start":{"line":32,"column":1,"offset":2187},"end":{"line":32,"column":220,"offset":2406},"indent":[]}}],"position":{"start":{"line":1,"column":1,"offset":0},"end":{"line":33,"column":1,"offset":2407}}}}